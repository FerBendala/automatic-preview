Tengo estos archivos (a parte del resto de archivos del proyecto) y me gustrÃ­a encontrar una forma mas eficiente de hacer el router. Ahora mismo la aplicacion tiene un dropdown y al seleccionar una opcion cambia el link de un boton en la home. la idea es que a a traves del router en app.js se haga la gestion de las rutas

-- app.js
import React from 'react' import { Routes, Route } from 'react-router-dom' import HomeMain from './pages/home/home-main' import LayoutApp from './layout/layout-app/layout-app' import Router from './routers/router' import './app.scss' const App = () => { return ( <Routes> <Route path='/' element={<LayoutApp />}> <Route path='/tool/:tool' element={<Router />} /> <Route path='*' element={<HomeMain />} /> <Route index element={<HomeMain />} /> </Route> </Routes> ) } export default App

-- index.js
import 'core-js/stable/index.js' import 'regenerator-runtime/runtime.js' import { StrictMode } from 'react' import { createRoot } from 'react-dom/client' import { Provider } from 'react-redux' import { BrowserRouter } from 'react-router-dom' import { PersistGate } from 'redux-persist/integration/react' import { store, persistor } from './store' import App from './app' const root = createRoot( document.getElementById( 'root' ) ) root.render( <StrictMode> <Provider store={store}> <PersistGate loading={null} persistor={persistor}> <BrowserRouter> <App /> </BrowserRouter> </PersistGate> </Provider> </StrictMode> ) 

-- layout/layout-app.js
import { useState } from 'react' import { useParams } from 'react-router-dom' import { Link } from 'react-router-dom' import RouterAside from '../../routers/router-aside' import LayoutMain from '../layout-main/layout-main' import ModalAlert from '../../components/atoms/modals/modal-alert' import HomeAside from '../../pages/home/home-aside' import iconArrowLeft from '../../assets/images/icon-arrow-left-circle.svg' import './layout-app.scss' const LayoutApp = () => { const [selectedTool, setSelectedTool] = useState( '' ) const [isLoading, setIsLoading] = useState( false ) const [modalAlert, setModalAlert] = useState( false ) let { tool } = useParams() const handleNavigationTool = ( data ) => { setSelectedTool( data ) } const handleModalAlert = () => { setModalAlert( true ) } const handleModalClose = ( shouldNavigate ) => { setModalAlert( false ) if ( shouldNavigate ) { window.location.href = '/' } } return ( <> { } <nav className='layout-aside'> {tool ? <> <Link to="#" onClick={handleModalAlert} className='layout-aside__back' > <img src={iconArrowLeft} alt='return back' className='layout-aside__back__image' /> <span className='layout-aside__back__text'>Return selection</span> </Link> <h3 className='layout-aside__title'>{selectedTool || tool}</h3> <RouterAside isLoading={setIsLoading} /> </> : <HomeAside tool={handleNavigationTool} />} </nav> { } <LayoutMain isLoading={isLoading} /> { } {modalAlert && ( <ModalAlert onClose={handleModalClose} /> )} </> ) } export default LayoutApp

-- layout/layout-main.js
import { Outlet } from 'react-router-dom' import iconLoading from '../../assets/images/icon-loading.svg' import logoShopfully from '../../assets/images/logo-shopfully.svg' import './layout-main.scss' const LayoutMain = ( { isLoading } ) => { return ( <> <main className='main'> {} {isLoading && <div className='main__loading'> <img src={iconLoading} alt='loading...' /> </div> } <Outlet /> {} <img src={logoShopfully} alt='Shopfully logo' className='main__watermark' /> </main> </> ) } export default LayoutMain

--routers/RouterAside.js
import { useParams } from 'react-router-dom' import DominationMain from '../pages/domination/domination-main' const Router = () => { let { tool } = useParams() switch ( tool ) { case 'domination': return <DominationMain /> default: return <h1>ups... error 404!</h1> } } export default Router

-- routers/router-aside.js
import { useParams } from 'react-router-dom' import DominationAside from '../pages/domination/domination-aside' const RouterAside = ( { isLoading } ) => { let { tool } = useParams() switch ( tool ) { case 'domination': return <DominationAside isLoading={isLoading} /> default: return <h1>ups... error 404!</h1> } } export default RouterAside

-- pages/home/home-aside.js
import { Link } from 'react-router-dom' import { useDispatch, useSelector } from 'react-redux' import { appSelected } from '../../redux/home' import Dropdown from '../../components/atoms/dropdown/dropdown' import iconArrowRight from '../../assets/images/icon-arrow-right-circle-white.svg' import './home.scss' const HomeAside = ( { tool } ) => { const dispatch = useDispatch() const homeReducer = useSelector( state => state.home ) const apps = homeReducer.apps const selected = homeReducer.selected const handleDropdownSelectedTool = ( data ) => { dispatch( appSelected( data ) ) } const handleButtonClick = () => { tool( selected ) } return ( <section className='home-aside'> <h2 className='home-aside__title'>Welcome</h2> <Dropdown list={apps} selection={selected} setSelectedOpt={handleDropdownSelectedTool} /> <Link to={selected ? `/tool/${selected.toLowerCase()}` : null} className={`home-aside__button ${!selected ? 'disabled' : ''}`} onClick={handleButtonClick} > <span className='home-aside__button__text'>Let&apos;s do it!</span> <img src={iconArrowRight} alt='Let&apos;s do it!' className='home-aside__button__icon' /> </Link> </section> ) } export default HomeAside

-- pages/home/home-main.js
import Mobile from '../../components/molecules/mobile/mobile' import './home.scss' const HomeMain = () => <Mobile /> export default HomeMain

-- components/atoms/dropdown.js
import { useState } from 'react' import iconBurgerMenu from '../../../assets/images/icon-burger-menu.svg' import iconChevronDown from '../../../assets/images/icon-chevron-down.svg' import iconHeart from '../../../assets/images/icon-heart.svg' import './dropdown.scss' const Dropdown = ( { list, selection, setSelectedOpt } ) => { const [displayToolList, setDisplayToolList] = useState( false ) const handleDropdownClick = () => { setDisplayToolList( !displayToolList ) } const handleSelection = async ( data ) => { setSelectedOpt( data ) setDisplayToolList( !displayToolList ) } return ( <div className='dropdown'> {} <button className='dropdown__button' onClick={handleDropdownClick} > <img src={iconBurgerMenu} alt='menu' className='button__icon' /> <span className='button__text'> {selection || 'Select the product'} </span> <img src={iconChevronDown} alt='status' className='button__icon' /> </button> {} {displayToolList ? ( <ul className='dropdown__list'> {list && Object.keys( list ).map( ( item ) => <li key={item} className='list__item' onClick={() => handleSelection( list[item] )} > <img src={iconHeart} alt='list icon' className='list__item__icon' /> <span className='list__item__text' title={list[item]} > {list[item]} </span> </li> )} </ul> ) : null } </div> ) } export default Dropdown